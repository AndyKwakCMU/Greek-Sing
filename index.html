<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Greek Sing: Rehearsal Board</title>
    <style>
        body { 
            font-family: sans-serif; 
            background: #121212; 
            color: white; 
            text-align: center; 
            padding: 10px; 
            margin: 0;
        }
        
        /* The Secret Sauce: 3x3 Grid */
        .music-grid { 
            display: grid; 
            grid-template-columns: 1fr 1fr 1fr; /* Exactly 3 columns */
            gap: 10px; 
            margin-bottom: 30px;
            width: 100%;
        }

        button { 
            padding: 25px 10px; 
            font-size: 1.1rem; 
            font-weight: bold; 
            cursor: pointer;
            border-radius: 8px; 
            border: none; 
            color: white;
            transition: transform 0.1s, background 0.2s;
            min-height: 90px; /* Big enough to tap easily */
        }

        /* Color Coding */
        .vocal-btn { background: #4a90e2; }
        .inst-btn { background: #6c5ce7; }
        .sfx-btn { background: #27ae60; }
        
        .stop-btn { 
            background: #e94b3c; 
            width: 100%; 
            font-size: 2rem; 
            margin: 20px 0; 
            padding: 40px; 
        }

        .sfx-grid { 
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: 10px; 
        }

        h2 { margin-top: 30px; font-size: 1.5rem; text-transform: uppercase; letter-spacing: 2px; }
        button:active { transform: scale(0.95); filter: brightness(1.2); }
    </style>
</head>
<body>

    <h1>ðŸŽ¤ Greek Sing Control</h1>
    
    <button class="stop-btn" onclick="stopAll()">ðŸ›‘ STOP ALL</button>

    <h2>The Setlist (Vocals)</h2>
    <div class="music-grid">
        <button class="vocal-btn" onclick="playAudio('Surf Crazy 3 ')">Surf Crazy</button>
        <button class="vocal-btn" onclick="playAudio('Crusin For A Brusin')">Crusin</button>
        <button class="vocal-btn" onclick="playAudio('Fallin for Ya')">Fallin</button>
        <button class="vocal-btn" onclick="playAudio('Like Me')">Like Me</button>
        <button class="vocal-btn" onclick="playAudio('Meant to Be')">Meant To Be</button>
        <button class="vocal-btn" onclick="playAudio('Surfs Up')">Surf's Up</button>
    </div>

    <h2>Instrumentals</h2>
    <div class="music-grid">
        <button class="inst-btn" onclick="playAudio('Surf Crazy 3 Inst')">Surf Crazy</button>
        <button class="inst-btn" onclick="playAudio('Crusin For A Brusin Inst')">Crusin</button>
        <button class="inst-btn" onclick="playAudio('Fallin for Ya Inst')">Fallin</button>
        <button class="inst-btn" onclick="playAudio('Like Me Inst')">Like Me</button>
        <button class="inst-btn" onclick="playAudio('Meant to Be Inst')">Meant To Be</button>
        <button class="inst-btn" onclick="playAudio('Surfs Up Inst')">Surf's Up</button>
    </div>

    <h2>Sound Effects</h2>
    <div class="sfx-grid">
        <button class="sfx-btn" onclick="playSFX('fulcrum-plug')">Pluh</button>
        <button class="sfx-btn" onclick="playSFX('Laugh')">Laugh</button>
        <button class="sfx-btn" onclick="playSFX('rizz-sound-effect')">Rizz</button>
        <button class="sfx-btn" onclick="playSFX('Vine Boom')">Vine Boom</button>
    </div>

    <script>
        let currentAudio = null;
        let activeSFX = [];
        let lastClickTime = 0;
        const sfxCache = {};

        function playAudio(file) {
            if (currentAudio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
            }
            currentAudio = new Audio(`assets/${file}.mp3`);
            currentAudio.play();
        }

        function playSFX(effectName) {
            const now = Date.now();
            if (now - lastClickTime < 100) return; // SPAM SHIELD
            lastClickTime = now;

            if (!sfxCache[effectName]) {
                sfxCache[effectName] = new Audio(`assets/sfx/${effectName}.mp3`);
            }

            let shot = sfxCache[effectName].cloneNode();
            shot.loop = false;
            activeSFX.push(shot);
            
            shot.onended = () => {
                activeSFX = activeSFX.filter(item => item !== shot);
            };
            
            shot.play();
        }

        function stopAll() {
            if (currentAudio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
            }
            activeSFX.forEach(s => {
                s.pause();
                s.currentTime = 0;
            });
            activeSFX = [];
        }
    </script>
</body>
</html>